!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.superfine={})}(this,function(e){"use strict";var f="http://www.w3.org/1999/xlink",t={},r=[],n=r.map,u=Array.isArray,w=function(e,n){var t={};for(var r in e)t[r]=e[r];for(var r in n)t[r]=n[r];return t},c=function(e){return e.currentTarget.events[e.type](e)},b=function(e,n,t,r,l){if("key"===n);else if("style"===n)for(var o in w(t,r)){var u=null==r||null==r[o]?"":r[o];"-"===o[0]?e[n].setProperty(o,u):e[n][o]=u}else if("o"===n[0]&&"n"===n[1])e.events||(e.events={}),null==(e.events[n=n.slice(2)]=r)?e.removeEventListener(n,c):null==t&&e.addEventListener(n,c);else{var i=null==r||!1===r;if(n in e&&"list"!==n&&"draggable"!==n&&"spellcheck"!==n&&"translate"!==n&&!l)e[n]=null==r?"":r,i&&e.removeAttribute(n);else l&&n!==(n=n.replace(/^xlink:?/,""))?i?e.removeAttributeNS(f,n):e.setAttributeNS(f,n,r):i?e.removeAttribute(n):e.setAttribute(n,r)}},A=function(e,n,t){var r=2===e.type?document.createTextNode(e.name):(t=t||"svg"===e.name)?document.createElementNS("http://www.w3.org/2000/svg",e.name):document.createElement(e.name),l=e.props;l.oncreate&&n.push(function(){l.oncreate(r)});for(var o=0,u=e.children.length;o<u;o++)r.appendChild(A(e.children[o],n,t));for(var i in l)b(r,i,null,l[i],t);return e.element=r},l=function(e){for(var n=0,t=e.children.length;n<t;n++)l(e.children[n]);var r=e.props.ondestroy;return null!=r&&r(e.element),e.element},x=function(e,n){var t=function(){e.removeChild(l(n))},r=n.props&&n.props.onremove;null!=r?r(n.element,t):t()},N=function(e){return null==e?null:e.key},E=function(e,n,t,r,l,o){if(r===t);else if(null!=t&&2===t.type&&2===r.type)t.name!==r.name&&(n.nodeValue=r.name);else if(null==t||t.name!==r.name){var u=e.insertBefore(A(r,l,o),n);null!=t&&x(e,t),n=u}else{var i,f,c;!function(e,n,t,r,l,o){for(var u in w(n,t))("value"===u||"checked"===u?e[u]:n[u])!==t[u]&&b(e,u,n[u],t[u],l);var i=o?t.oncreate:t.onupdate;null!=i&&r.push(function(){i(e,n)})}(n,t.props,r.props,l,o=o||"svg"===r.name,1===t.type);for(var a,s=t.children,p=0,d=s.length-1,m=r.children,v=0,h=m.length-1;v<=h&&p<=d&&(c=N(s[p]),a=N(m[v]),null!=c&&c===a);)E(n,s[p].element,s[p],m[v],l,o),p++,v++;for(;v<=h&&p<=d&&(c=N(s[d]),a=N(m[h]),null!=c&&c===a);)E(n,s[d].element,s[d],m[h],l,o),d--,h--;if(d<p)for(;v<=h;)n.insertBefore(A(m[v++],l,o),(f=s[p])&&f.element);else if(h<v)for(;p<=d;)x(n,s[p++]);else{for(var y=function(e,n,t){for(var r,l,o={};n<=t;n++)null!=(r=(l=e[n]).key)&&(o[r]=l);return o}(s,p,d),g={};v<=h;)c=N(f=s[p]),a=N(m[v]),g[c]||null!=a&&a===N(s[p+1])?(null==c&&x(n,f),p++):null==a||1===t.type?(null==c&&(E(n,f&&f.element,f,m[v],l,o),v++),p++):(c===a?(E(n,f.element,f,m[v],l,o),g[a]=!0,p++):null!=(i=y[a])?(E(n,n.insertBefore(i.element,f&&f.element),i,m[v],l,o),g[a]=!0):E(n,f&&f.element,null,m[v],l,o),v++);for(;p<=d;)null==N(f=s[p++])&&x(n,f);for(var k in y)null==g[k]&&x(n,y[k])}}return r.element=n},i=function(e,n,t,r,l,o){return{name:e,props:n,children:t,element:r,key:l,type:o}},a=function(e,n){return i(e,t,r,n,null,2)},o=function(e){return 3===e.nodeType?a(e.nodeValue,e):s(e)},s=function(e){return i(e.nodeName.toLowerCase(),t,n.call(e.childNodes,o),e,null,1)};e.recycle=function(e){return s(e.children[0])},e.patch=function(e,n,t){var r=[];for(E(t,t.children[0],e,n,r);0<r.length;)r.pop()();return n},e.h=function(e,n){for(var t,r=[],l=[],o=arguments.length;2<o--;)r.push(arguments[o]);for(null!=(n=null==n?{}:n).children&&(r.length<=0&&r.push(n.children),delete n.children);0<r.length;)if(u(t=r.pop()))for(o=t.length;0<o--;)r.push(t[o]);else!1===t||!0===t||null==t||l.push("object"==typeof t?t:a(t));return"function"==typeof e?e(n,n.children=l):i(e,n,l,null,n.key,0)}});
//# sourceMappingURL=superfine.js.map